/*
 BarCode Coder Library (BCC Library)
  BCCL Version 2.0

  Porting : jQuery barcode plugin 
  Version : 2.0.3

  Date    : 2013-01-06
  Author  : DEMONTE Jean-Baptiste <jbdemonte@gmail.com>
            HOUREZ Jonathan

  Web site: http://barcode-coder.com/
  dual licence :  http://www.cecill.info/licences/Licence_CeCILL_V2-fr.html
                  http://www.gnu.org/licenses/gpl.html
*/
(function(w){var l={settings:{barWidth:1,barHeight:50,moduleSize:5,showHRI:!0,addQuietZone:!0,marginHRI:5,bgColor:"#FFFFFF",color:"#000000",fontSize:10,output:"css",posX:0,posY:0},intval:function(a){var c=typeof a;return"string"==c?(a=a.replace(/[^0-9-.]/g,""),a=parseInt(1*a,10),isNaN(a)||!isFinite(a)?0:a):"number"==c&&isFinite(a)?Math.floor(a):0},i25:{encoding:"NNWWN WNNNW NWNNW WWNNN NNWNW WNWNN NWWNN NNNWW WNNWN NWNWN".split(" "),compute:function(a,c,b){if(c){"int25"==b&&0==a.length%2&&(a="0"+
a);c=!0;for(var d=0,e=a.length-1;-1<e;e--){b=l.intval(a.charAt(e));if(isNaN(b))return"";d+=c?3*b:b;c=!c}a+=((10-d%10)%10).toString()}else 0!=a.length%2&&(a="0"+a);return a},getDigit:function(a,c,b){a=this.compute(a,c,b);if(""==a)return"";result="";if("int25"==b){result+="1010";for(c=0;c<a.length/2;c++){var d=a.charAt(2*c);var e=a.charAt(2*c+1);for(b=0;5>b;b++)result+="1","W"==this.encoding[d].charAt(b)&&(result+="1"),result+="0","W"==this.encoding[e].charAt(b)&&(result+="0")}result+="1101"}else if("std25"==
b){result+="11011010";for(c=0;c<a.length;c++)for(d=a.charAt(c),b=0;5>b;b++)result+="1","W"==this.encoding[d].charAt(b)&&(result+="11"),result+="0";result+="11010110"}return result}},ean:{encoding:[["0001101","0100111","1110010"],["0011001","0110011","1100110"],["0010011","0011011","1101100"],["0111101","0100001","1000010"],["0100011","0011101","1011100"],["0110001","0111001","1001110"],["0101111","0000101","1010000"],["0111011","0010001","1000100"],["0110111","0001001","1001000"],["0001011","0010111",
"1110100"]],first:"000000 001011 001101 001110 010011 011001 011100 010101 010110 011010".split(" "),getDigit:function(a,c){var b="ean8"==c?7:12;a=a.substring(0,b);if(a.length!=b)return"";for(b=0;b<a.length;b++){var d=a.charAt(b);if("0">d||"9"<d)return""}a=this.compute(a,c);d="101";if("ean8"==c){for(b=0;4>b;b++)d+=this.encoding[l.intval(a.charAt(b))][0];d+="01010";for(b=4;8>b;b++)d+=this.encoding[l.intval(a.charAt(b))][2]}else{c=this.first[l.intval(a.charAt(0))];for(b=1;7>b;b++)d+=this.encoding[l.intval(a.charAt(b))][l.intval(c.charAt(b-
1))];d+="01010";for(b=7;13>b;b++)d+=this.encoding[l.intval(a.charAt(b))][2]}return d+"101"},compute:function(a,c){a=a.substring(0,"ean13"==c?12:7);c=0;var b=!0;for(i=a.length-1;-1<i;i--)c+=(b?3:1)*l.intval(a.charAt(i)),b=!b;return a+((10-c%10)%10).toString()}},upc:{getDigit:function(a){12>a.length&&(a="0"+a);return l.ean.getDigit(a,"ean13")},compute:function(a){12>a.length&&(a="0"+a);return l.ean.compute(a,"ean13").substr(1)}},msi:{encoding:"100100100100 100100100110 100100110100 100100110110 100110100100 100110100110 100110110100 100110110110 110100100100 110100100110".split(" "),
compute:function(a,c){"object"==typeof c?("mod10"==c.crc1?a=this.computeMod10(a):"mod11"==c.crc1&&(a=this.computeMod11(a)),"mod10"==c.crc2?a=this.computeMod10(a):"mod11"==c.crc2&&(a=this.computeMod11(a))):"boolean"==typeof c&&c&&(a=this.computeMod10(a));return a},computeMod10:function(a){var c,b=a.length%2,d=0,e=0;for(c=0;c<a.length;c++)b?d=10*d+l.intval(a.charAt(c)):e+=l.intval(a.charAt(c)),b=!b;b=(2*d).toString();for(c=0;c<b.length;c++)e+=l.intval(b.charAt(c));return a+((10-e%10)%10).toString()},
computeMod11:function(a){for(var c=0,b=2,d=a.length-1;0<=d;d--)c+=b*l.intval(a.charAt(d)),b=7==b?2:b+1;return a+((11-c%11)%11).toString()},getDigit:function(a,c){a=this.compute(a,!1);var b="110";for(i=0;i<a.length;i++){c="0123456789".indexOf(a.charAt(i));if(0>c)return"";b+=this.encoding[c]}return b+"1001"}},code11:{encoding:"101011 1101011 1001011 1100101 1011011 1101101 1001101 1010011 1101001 110101 101101".split(" "),getDigit:function(a){var c;var b="10110010";for(c=0;c<a.length;c++){var d="0123456789-".indexOf(a.charAt(c));
if(0>d)return"";b+=this.encoding[d]+"0"}var e=0,f=0,g=1,h=0;for(c=a.length-1;0<=c;c--)e=10==e?1:e+1,g=10==g?1:g+1,d="0123456789-".indexOf(a.charAt(c)),f+=e*d,h+=g*d;c=f%11;b+=this.encoding[c]+"0";10<=a.length&&(b+=this.encoding[(h+c)%11]+"0");return b+"1011001"}},code39:{encoding:"101001101101 110100101011 101100101011 110110010101 101001101011 110100110101 101100110101 101001011011 110100101101 101100101101 110101001011 101101001011 110110100101 101011001011 110101100101 101101100101 101010011011 110101001101 101101001101 101011001101 110101010011 101101010011 110110101001 101011010011 110101101001 101101101001 101010110011 110101011001 101101011001 101011011001 110010101011 100110101011 110011010101 100101101011 110010110101 100110110101 100101011011 110010101101 100110101101 100100100101 100100101001 100101001001 101001001001 100101101101".split(" "),
getDigit:function(a){var c,b="";if(0<=a.indexOf("*"))return"";a=("*"+a+"*").toUpperCase();for(c=0;c<a.length;c++){var d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%*".indexOf(a.charAt(c));if(0>d)return"";0<c&&(b+="0");b+=this.encoding[d]}return b}},code93:{encoding:"100010100 101001000 101000100 101000010 100101000 100100100 100100010 101010000 100010010 100001010 110101000 110100100 110100010 110010100 110010010 110001010 101101000 101100100 101100010 100110100 100011010 101011000 101001100 101000110 100101100 100010110 110110100 110110010 110101100 110100110 110010110 110011010 101101100 101100110 100110110 100111010 100101110 111010100 111010010 111001010 101101110 101110110 110101110 100100110 111011010 111010110 100110010 101011110".split(" "),
getDigit:function(a,c){var b="";if(0<=a.indexOf("*"))return"";a=a.toUpperCase();b+=this.encoding[47];for(i=0;i<a.length;i++){var d=a.charAt(i);index="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%____*".indexOf(d);if("_"==d||0>index)return"";b+=this.encoding[index]}if(c){var e=d=0,f=1;c=0;for(i=a.length-1;0<=i;i--)d=20==d?1:d+1,f=15==f?1:f+1,index="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%____*".indexOf(a.charAt(i)),e+=d*index,c+=f*index;d=e%47;b+=this.encoding[d];b+=this.encoding[(c+d)%47]}b+=this.encoding[47];
return b+"1"}},code128:{encoding:"11011001100 11001101100 11001100110 10010011000 10010001100 10001001100 10011001000 10011000100 10001100100 11001001000 11001000100 11000100100 10110011100 10011011100 10011001110 10111001100 10011101100 10011100110 11001110010 11001011100 11001001110 11011100100 11001110100 11101101110 11101001100 11100101100 11100100110 11101100100 11100110100 11100110010 11011011000 11011000110 11000110110 10100011000 10001011000 10001000110 10110001000 10001101000 10001100010 11010001000 11000101000 11000100010 10110111000 10110001110 10001101110 10111011000 10111000110 10001110110 11101110110 11010001110 11000101110 11011101000 11011100010 11011101110 11101011000 11101000110 11100010110 11101101000 11101100010 11100011010 11101111010 11001000010 11110001010 10100110000 10100001100 10010110000 10010000110 10000101100 10000100110 10110010000 10110000100 10011010000 10011000010 10000110100 10000110010 11000010010 11001010000 11110111010 11000010100 10001111010 10100111100 10010111100 10010011110 10111100100 10011110100 10011110010 11110100100 11110010100 11110010010 11011011110 11011110110 11110110110 10101111000 10100011110 10001011110 10111101000 10111100010 11110101000 11110100010 10111011110 10111101110 11101011110 11110101110 11010000100 11010010000 11010011100 11000111010".split(" "),
getDigit:function(a){var c=0,b;for(b=0;b<a.length;b++)if(-1==" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~".indexOf(a.charAt(b)))return"";var d=1<a.length;for(b=0;3>b&&b<a.length;b++){var e=a.charAt(b);d&="0"<=e&&"9">=e}var f=d?105:104;e=this.encoding[f];for(b=0;b<a.length;){if(!d){for(d=0;b+d<a.length&&"0"<=a.charAt(b+d)&&"9">=a.charAt(b+d);)d++;if(d=5<d||b+d-1==a.length&&3<d)e+=this.encoding[99],f+=99*++c}else if(b==a.length||"0">a.charAt(b)||
"9"<a.charAt(b)||"0">a.charAt(b+1)||"9"<a.charAt(b+1))d=!1,e+=this.encoding[100],f+=100*++c;if(d){var g=l.intval(a.charAt(b)+a.charAt(b+1));b+=2}else g=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~".indexOf(a.charAt(b)),b+=1;e+=this.encoding[g];f+=++c*g}e+=this.encoding[f%103];e+=this.encoding[106];return e+"11"}},codabar:{encoding:"101010011 101011001 101001011 110010101 101101001 110101001 100101011 100101101 100110101 110100101 101001101 101100101 1101011011 1101101011 1101101101 1011011011 1011001001 1010010011 1001001011 1010011001".split(" "),
getDigit:function(a){var c;var b=""+(this.encoding[16]+"0");for(c=0;c<a.length;c++){var d="0123456789-$:/.+".indexOf(a.charAt(c));if(0>d)return"";b+=this.encoding[d]+"0"}return b+=this.encoding[16]}},datamatrix:{lengthRows:[10,12,14,16,18,20,22,24,26,32,36,40,44,48,52,64,72,80,88,96,104,120,132,144,8,8,12,12,16,16],lengthCols:[10,12,14,16,18,20,22,24,26,32,36,40,44,48,52,64,72,80,88,96,104,120,132,144,18,32,26,36,36,48],dataCWCount:[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,
816,1050,1304,1558,5,10,16,22,32,49],solomonCWCount:[5,7,10,12,14,18,20,24,28,36,42,48,56,68,84,112,144,192,224,272,336,408,496,620,7,11,14,18,24,28],dataRegionRows:[8,10,12,14,16,18,20,22,24,14,16,18,20,22,24,14,16,18,20,22,24,18,20,22,6,6,10,10,14,14],dataRegionCols:[8,10,12,14,16,18,20,22,24,14,16,18,20,22,24,14,16,18,20,22,24,18,20,22,16,14,24,16,16,22],regionRows:[1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,4,4,4,4,4,4,6,6,6,1,1,1,1,1,1],regionCols:[1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,4,4,4,4,4,4,6,6,6,1,2,1,2,
2,2],interleavedBlocks:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,4,4,4,4,6,6,8,8,1,1,1,1,1,1],logTab:[-255,255,1,240,2,225,241,53,3,38,226,133,242,43,54,210,4,195,39,114,227,106,134,28,243,140,44,23,55,118,211,234,5,219,196,96,40,222,115,103,228,78,107,125,135,8,29,162,244,186,141,180,45,99,24,49,56,13,119,153,212,199,235,91,6,76,220,217,197,11,97,184,41,36,223,253,116,138,104,193,229,86,79,171,108,165,126,145,136,34,9,74,30,32,163,84,245,173,187,204,142,81,181,190,46,88,100,159,25,231,50,207,57,147,14,67,
120,128,154,248,213,167,200,63,236,110,92,176,7,161,77,124,221,102,218,95,198,90,12,152,98,48,185,179,42,209,37,132,224,52,254,239,117,233,139,22,105,27,194,113,230,206,87,158,80,189,172,203,109,175,166,62,127,247,146,66,137,192,35,252,10,183,75,216,31,83,33,73,164,144,85,170,246,65,174,61,188,202,205,157,143,169,82,72,182,215,191,251,47,178,89,151,101,94,160,123,26,112,232,21,51,238,208,131,58,69,148,18,15,16,68,17,121,149,129,19,155,59,249,70,214,250,168,71,201,156,64,60,237,130,111,20,93,122,177,
150],aLogTab:[1,2,4,8,16,32,64,128,45,90,180,69,138,57,114,228,229,231,227,235,251,219,155,27,54,108,216,157,23,46,92,184,93,186,89,178,73,146,9,18,36,72,144,13,26,52,104,208,141,55,110,220,149,7,14,28,56,112,224,237,247,195,171,123,246,193,175,115,230,225,239,243,203,187,91,182,65,130,41,82,164,101,202,185,95,190,81,162,105,210,137,63,126,252,213,135,35,70,140,53,106,212,133,39,78,156,21,42,84,168,125,250,217,159,19,38,76,152,29,58,116,232,253,215,131,43,86,172,117,234,249,223,147,11,22,44,88,176,
77,154,25,50,100,200,189,87,174,113,226,233,255,211,139,59,118,236,245,199,163,107,214,129,47,94,188,85,170,121,242,201,191,83,166,97,194,169,127,254,209,143,51,102,204,181,71,142,49,98,196,165,103,206,177,79,158,17,34,68,136,61,122,244,197,167,99,198,161,111,222,145,15,30,60,120,240,205,183,67,134,33,66,132,37,74,148,5,10,20,40,80,160,109,218,153,31,62,124,248,221,151,3,6,12,24,48,96,192,173,119,238,241,207,179,75,150,1],champGaloisMult:function(a,c){return a&&c?this.aLogTab[(this.logTab[a]+this.logTab[c])%
255]:0},champGaloisDoub:function(a,c){return a?c?this.aLogTab[(this.logTab[a]+c)%255]:a:0},champGaloisSum:function(a,c){return a^c},selectIndex:function(a,c){if((1>a||1558<a)&&!c||(1>a||49<a)&&c)return-1;var b=0;for(c&&(b=24);this.dataCWCount[b]<a;)b++;return b},encodeDataCodeWordsASCII:function(a){var c=[],b=0,d;for(d=0;d<a.length;d++){var e=a.charCodeAt(d);127<e?(c[b]=235,e-=127,b++):48<=e&&57>=e&&d+1<a.length&&48<=a.charCodeAt(d+1)&&57>=a.charCodeAt(d+1)?(e=10*(e-48)+(a.charCodeAt(d+1)-48),e+=
130,d++):e++;c[b]=e;b++}return c},addPadCW:function(a,c,b){if(!(c>=b)){a[c]=129;var d;for(d=c+1;d<b;d++)c=149*(d+1)%253+1,a[d]=(129+c)%254}},calculSolFactorTable:function(a){var c=[],b,d;for(b=0;b<=a;b++)c[b]=1;for(b=1;b<=a;b++)for(d=b-1;0<=d;d--)c[d]=this.champGaloisDoub(c[d],b),0<d&&(c[d]=this.champGaloisSum(c[d],c[d-1]));return c},addReedSolomonCW:function(a,c,b,d,e){var f=a/e,g=[],h,k,l;for(l=0;l<e;l++){for(h=0;h<f;h++)g[h]=0;for(h=l;h<b;h+=e)for(a=this.champGaloisSum(d[h],g[f-1]),k=f-1;0<=k;k--)g[k]=
a?this.champGaloisMult(a,c[k]):0,0<k&&(g[k]=this.champGaloisSum(g[k-1],g[k]));k=b+l;for(h=f-1;0<=h;h--)d[k]=g[h],k+=e}return d},getBits:function(a){for(var c=[],b=0;8>b;b++)c[b]=a&128>>b?1:0;return c},next:function(a,c,b,d,e,f){var g=0,h=4,k=0;do{h==c&&0==k?(this.patternShapeSpecial1(e,f,d[g],c,b),g++):3>a&&h==c-2&&0==k&&0!=b%4?(this.patternShapeSpecial2(e,f,d[g],c,b),g++):h==c-2&&0==k&&4==b%8?(this.patternShapeSpecial3(e,f,d[g],c,b),g++):h==c+4&&2==k&&0==b%8&&(this.patternShapeSpecial4(e,f,d[g],
c,b),g++);do h<c&&0<=k&&1!=f[h][k]&&(this.patternShapeStandard(e,f,d[g],h,k,c,b),g++),h-=2,k+=2;while(0<=h&&k<b);h+=1;k+=3;do 0<=h&&k<b&&1!=f[h][k]&&(this.patternShapeStandard(e,f,d[g],h,k,c,b),g++),h+=2,k-=2;while(h<c&&0<=k);h+=3;k+=1}while(h<c||k<b)},patternShapeStandard:function(a,c,b,d,e,f,g){this.placeBitInDatamatrix(a,c,b[0],d-2,e-2,f,g);this.placeBitInDatamatrix(a,c,b[1],d-2,e-1,f,g);this.placeBitInDatamatrix(a,c,b[2],d-1,e-2,f,g);this.placeBitInDatamatrix(a,c,b[3],d-1,e-1,f,g);this.placeBitInDatamatrix(a,
c,b[4],d-1,e,f,g);this.placeBitInDatamatrix(a,c,b[5],d,e-2,f,g);this.placeBitInDatamatrix(a,c,b[6],d,e-1,f,g);this.placeBitInDatamatrix(a,c,b[7],d,e,f,g)},patternShapeSpecial1:function(a,c,b,d,e){this.placeBitInDatamatrix(a,c,b[0],d-1,0,d,e);this.placeBitInDatamatrix(a,c,b[1],d-1,1,d,e);this.placeBitInDatamatrix(a,c,b[2],d-1,2,d,e);this.placeBitInDatamatrix(a,c,b[3],0,e-2,d,e);this.placeBitInDatamatrix(a,c,b[4],0,e-1,d,e);this.placeBitInDatamatrix(a,c,b[5],1,e-1,d,e);this.placeBitInDatamatrix(a,c,
b[6],2,e-1,d,e);this.placeBitInDatamatrix(a,c,b[7],3,e-1,d,e)},patternShapeSpecial2:function(a,c,b,d,e){this.placeBitInDatamatrix(a,c,b[0],d-3,0,d,e);this.placeBitInDatamatrix(a,c,b[1],d-2,0,d,e);this.placeBitInDatamatrix(a,c,b[2],d-1,0,d,e);this.placeBitInDatamatrix(a,c,b[3],0,e-4,d,e);this.placeBitInDatamatrix(a,c,b[4],0,e-3,d,e);this.placeBitInDatamatrix(a,c,b[5],0,e-2,d,e);this.placeBitInDatamatrix(a,c,b[6],0,e-1,d,e);this.placeBitInDatamatrix(a,c,b[7],1,e-1,d,e)},patternShapeSpecial3:function(a,
c,b,d,e){this.placeBitInDatamatrix(a,c,b[0],d-3,0,d,e);this.placeBitInDatamatrix(a,c,b[1],d-2,0,d,e);this.placeBitInDatamatrix(a,c,b[2],d-1,0,d,e);this.placeBitInDatamatrix(a,c,b[3],0,e-2,d,e);this.placeBitInDatamatrix(a,c,b[4],0,e-1,d,e);this.placeBitInDatamatrix(a,c,b[5],1,e-1,d,e);this.placeBitInDatamatrix(a,c,b[6],2,e-1,d,e);this.placeBitInDatamatrix(a,c,b[7],3,e-1,d,e)},patternShapeSpecial4:function(a,c,b,d,e){this.placeBitInDatamatrix(a,c,b[0],d-1,0,d,e);this.placeBitInDatamatrix(a,c,b[1],d-
1,e-1,d,e);this.placeBitInDatamatrix(a,c,b[2],0,e-3,d,e);this.placeBitInDatamatrix(a,c,b[3],0,e-2,d,e);this.placeBitInDatamatrix(a,c,b[4],0,e-1,d,e);this.placeBitInDatamatrix(a,c,b[5],1,e-3,d,e);this.placeBitInDatamatrix(a,c,b[6],1,e-2,d,e);this.placeBitInDatamatrix(a,c,b[7],1,e-1,d,e)},placeBitInDatamatrix:function(a,c,b,d,e,f,g){0>d&&(d+=f,e+=4-(f+4)%8);0>e&&(e+=g,d+=4-(g+4)%8);1!=c[d][e]&&(a[d][e]=b,c[d][e]=1)},addFinderPattern:function(a,c,b,d,e){c*=d+2;b*=e+2;for(var f=[[]],g=0;g<b+2;g++)f[0][g]=
0;for(var h=0;h<c;h++)for(f[h+1]=[],f[h+1][0]=0,g=f[h+1][b+1]=0;g<b;g++)0==h%(d+2)?f[h+1][g+1]=0==g%2?1:0:h%(d+2)==d+1?f[h+1][g+1]=1:g%(e+2)==e+1?f[h+1][g+1]=0==h%2?0:1:0==g%(e+2)?f[h+1][g+1]=1:(f[h+1][g+1]=0,f[h+1][g+1]=a[h-1-2*parseInt(h/(d+2))][g-1-2*parseInt(g/(e+2))]);f[c+1]=[];for(g=0;g<b+2;g++)f[c+1][g]=0;return f},getDigit:function(a,c){var b=this.encodeDataCodeWordsASCII(a),d=b.length,e=this.selectIndex(d,c),f=this.dataCWCount[e],g=this.solomonCWCount[e],h=f+g;c=this.regionRows[e];a=this.regionCols[e];
var k=this.dataRegionRows[e],l=this.dataRegionCols[e],n=this.lengthRows[e]-2*c,m=this.lengthCols[e]-2*a;e=this.interleavedBlocks[e];var p=g/e;this.addPadCW(b,d,f);d=this.calculSolFactorTable(p);this.addReedSolomonCW(g,d,f,b,e);d=[];for(f=0;f<h;f++)d[f]=this.getBits(b[f]);b=[];h=[];for(f=0;f<m;f++)b[f]=[],h[f]=[];4==n*m%8&&(b[n-2][m-2]=1,b[n-1][m-1]=1,b[n-1][m-2]=0,b[n-2][m-1]=0,h[n-2][m-2]=1,h[n-1][m-1]=1,h[n-1][m-2]=1,h[n-2][m-1]=1);this.next(0,n,m,d,b,h);return b=this.addFinderPattern(b,c,a,k,l)}},
lec:{cInt:function(a,c){for(var b="",d=0;d<c;d++)b+=String.fromCharCode(a&255),a>>=8;return b},cRgb:function(a,c,b){return String.fromCharCode(b)+String.fromCharCode(c)+String.fromCharCode(a)},cHexColor:function(a){a=parseInt("0x"+a.substr(1));var c=a&255;a>>=8;return this.cRgb(a>>8,a&255,c)}},hexToRGB:function(a){a=parseInt("0x"+a.substr(1));var c=a&255;a>>=8;return{r:a>>8,g:a&255,b:c}},isHexColor:function(a){return a.match(/#[0-91-F]/gi)},base64Encode:function(a){for(var c="",b,d,e,f,g,h,k=0;k<
a.length;)b=a.charCodeAt(k++),d=a.charCodeAt(k++),e=a.charCodeAt(k++),f=b>>2,b=(b&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h);return c},bitStringTo2DArray:function(a){for(var c=
[[]],b=0;b<a.length;b++)c[0][b]=a.charAt(b);return c},resize:function(a,c){a.css("padding","0px").css("overflow","auto").css("width",c+"px").html("");return a},digitToBmpRenderer:function(a,c,b,d,e,f){var g=b.length;d=b[0].length;var h,k=this.isHexColor(c.bgColor)?this.lec.cHexColor(c.bgColor):this.lec.cRgb(255,255,255),l=this.isHexColor(c.color)?this.lec.cHexColor(c.color):this.lec.cRgb(0,0,0),n=c="";for(h=0;h<e;h++)c+=k,n+=l;k=(4-e*d*3%4)%4;var m=(e*d+k)*f*g;l="";for(h=0;h<k;h++)l+="\x00";h="BM"+
this.lec.cInt(54+m,4)+"\x00\x00\x00\x00"+this.lec.cInt(54,4)+this.lec.cInt(40,4)+this.lec.cInt(e*d,4)+this.lec.cInt(f*g,4)+this.lec.cInt(1,2)+this.lec.cInt(24,2)+"\x00\x00\x00\x00"+this.lec.cInt(m,4)+this.lec.cInt(2835,4)+this.lec.cInt(2835,4)+this.lec.cInt(0,4)+this.lec.cInt(0,4);for(--g;0<=g;g--){m="";for(var p=0;p<d;p++)m+="0"==b[g][p]?c:n;m+=l;for(p=0;p<f;p++)h+=m}b=document.createElement("object");b.setAttribute("type","image/bmp");b.setAttribute("data","data:image/bmp;base64,"+this.base64Encode(h));
this.resize(a,e*d+k).append(b)},digitToBmp:function(a,c,b,d){var e=l.intval(c.barWidth),f=l.intval(c.barHeight);this.digitToBmpRenderer(a,c,this.bitStringTo2DArray(b),d,e,f)},digitToBmp2D:function(a,c,b,d){var e=l.intval(c.moduleSize);this.digitToBmpRenderer(a,c,b,d,e,e)},digitToCssRenderer:function(a,c,b,d,e,f){var g=b.length,h=b[0].length,k="",l='<div style="float: left; font-size: 0px; background-color: '+c.bgColor+"; height: "+f+'px; width: &Wpx"></div>';f='<div style="float: left; font-size: 0px; width:0; border-left: &Wpx solid '+
c.color+"; height: "+f+'px;"></div>';for(var n,m,p=0;p<g;p++){n=0;m=b[p][0];for(var q=0;q<h;q++)m==b[p][q]?n++:(k+=("0"==m?l:f).replace("&W",n*e),m=b[p][q],n=1);0<n&&(k+=("0"==m?l:f).replace("&W",n*e))}c.showHRI&&(k+='<div style="clear:both; width: 100%; background-color: '+c.bgColor+"; color: "+c.color+"; text-align: center; font-size: "+c.fontSize+"px; margin-top: "+c.marginHRI+'px;">'+d+"</div>");this.resize(a,e*h).html(k)},digitToCss:function(a,c,b,d){var e=l.intval(c.barWidth),f=l.intval(c.barHeight);
this.digitToCssRenderer(a,c,this.bitStringTo2DArray(b),d,e,f)},digitToCss2D:function(a,c,b,d){var e=l.intval(c.moduleSize);this.digitToCssRenderer(a,c,b,d,e,e)},digitToSvgRenderer:function(a,c,b,d,e,f){var g=b.length,h=b[0].length,k=e*h,r=f*g;if(c.showHRI){var n=l.intval(c.fontSize);r+=l.intval(c.marginHRI)+n}var m='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+k+'" height="'+r+'">'+('<rect width="'+k+'" height="'+r+'" x="0" y="0" fill="'+c.bgColor+'" />');for(var p='<rect width="&W" height="'+
f+'" x="&X" y="&Y" fill="'+c.color+'" />',q,u,t=0;t<g;t++){q=0;u=b[t][0];for(var v=0;v<h;v++)u==b[t][v]?q++:("1"==u&&(m+=p.replace("&W",q*e).replace("&X",(v-q)*e).replace("&Y",t*f)),u=b[t][v],q=1);0<q&&"1"==u&&(m+=p.replace("&W",q*e).replace("&X",(h-q)*e).replace("&Y",t*f))}c.showHRI&&(m+='<g transform="translate('+Math.floor(k/2)+' 0)">',m+='<text y="'+(r-Math.floor(n/2))+'" text-anchor="middle" style="font-family: Arial; font-size: '+n+'px;" fill="'+c.color+'">'+d+"</text>",m+="</g>");m+="</svg>";
c=document.createElement("object");c.setAttribute("type","image/svg+xml");c.setAttribute("data","data:image/svg+xml,"+m);this.resize(a,k).append(c)},digitToSvg:function(a,c,b,d){var e=l.intval(c.barWidth),f=l.intval(c.barHeight);this.digitToSvgRenderer(a,c,this.bitStringTo2DArray(b),d,e,f)},digitToSvg2D:function(a,c,b,d){var e=l.intval(c.moduleSize);this.digitToSvgRenderer(a,c,b,d,e,e)},digitToCanvasRenderer:function(a,c,b,d,e,f,g,h){var k=a.get(0);if(k&&k.getContext){a=b.length;var l=b[0].length;
k=k.getContext("2d");k.lineWidth=1;k.lineCap="butt";k.fillStyle=c.bgColor;k.fillRect(e,f,l*g,a*h);k.fillStyle=c.color;for(var n=0;n<a;n++){for(var m=0,p=b[n][0],q=0;q<l;q++)p==b[n][q]?m++:("1"==p&&k.fillRect(e+(q-m)*g,f+n*h,g*m,h),p=b[n][q],m=1);0<m&&"1"==p&&k.fillRect(e+(l-m)*g,f+n*h,g*m,h)}c.showHRI&&(b=k.measureText(d),k.fillText(d,e+Math.floor((l*g-b.width)/2),f+a*h+c.fontSize+c.marginHRI))}},digitToCanvas:function(a,c,b,d){var e=l.intval(c.barWidth),f=l.intval(c.barHeight),g=l.intval(c.posX),
h=l.intval(c.posY);this.digitToCanvasRenderer(a,c,this.bitStringTo2DArray(b),d,g,h,e,f)},digitToCanvas2D:function(a,c,b,d){var e=l.intval(c.moduleSize),f=l.intval(c.posX),g=l.intval(c.posY);this.digitToCanvasRenderer(a,c,b,d,f,g,e,e)}};w.fn.extend({barcode:function(a,c,b){var d="",e="",f="",g=!0,h=!1,k=!1;"string"==typeof a?f=a:"object"==typeof a&&(f="string"==typeof a.code?a.code:"",g="undefined"!=typeof a.crc?a.crc:!0,h="undefined"!=typeof a.rect?a.rect:!1);if(""==f)return!1;"undefined"==typeof b&&
(b=[]);for(var r in l.settings)void 0==b[r]&&(b[r]=l.settings[r]);switch(c){case "std25":case "int25":d=l.i25.getDigit(f,g,c);e=l.i25.compute(f,g,c);break;case "ean8":case "ean13":d=l.ean.getDigit(f,c);e=l.ean.compute(f,c);break;case "upc":d=l.upc.getDigit(f);e=l.upc.compute(f);break;case "code11":d=l.code11.getDigit(f);e=f;break;case "code39":d=l.code39.getDigit(f);e=f;break;case "code93":d=l.code93.getDigit(f,g);e=f;break;case "code128":d=l.code128.getDigit(f);e=f;break;case "codabar":d=l.codabar.getDigit(f);
e=f;break;case "msi":d=l.msi.getDigit(f,g);e=l.msi.compute(f,g);break;case "datamatrix":d=l.datamatrix.getDigit(f,h),e=f,k=!0}if(0==d.length)return w(this);!k&&b.addQuietZone&&(d="0000000000"+d+"0000000000");a=w(this);k="digitTo"+b.output.charAt(0).toUpperCase()+b.output.substr(1)+(k?"2D":"");if("function"==typeof l[k])l[k](a,b,d,e);return a}})})(jQuery);
